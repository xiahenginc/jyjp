(function(e,o){var n,c;var t="ea9495";var r="http://r.ruyisou.net";var a="http://static.ruyisou.net";var u="http://idc.ruyisou.net";var m="http://un.114dianxin.com";var s="http://clicks2.ruyisou.net";var f="http://tr.bang5mai.com/b5t/__utm.gif";var l={module_url:a+"/elfin/js/ruyiso.{module}.js?v="+t,getModuleUrl:function(e){return this.module_url.replace(/\{module\}/g,e)},paths:{jquery:{path:a+"/elfin/js/jquery-1.7.2.min.js",_export:function(){if(e.$ry)return e.$ry;e.$ry=e.jQuery.noConflict(true);return e.$ry}},eject:{path:a+"/elfin/js/jquery-eject-0.2.js",_export:function(){return e.$ry}},elfin:{path:a+"/elfin/js/rys.elfin-0.2.js",_export:function(){return elfin}}}};(function(o,i,t){var r=Object.prototype.hasOwnProperty,u=Object.prototype,m=u.toString,s={},f=[],d={},h=[],p={},v=[],g=false,y=false;(function(){if(typeof jQuery!="undefined"&&jQuery().jquery>"1.4.3"&&typeof jQuery.ajax!="undefined"){s["jquery"]=o.jQuery||o.$;o.$ry=s["jquery"]}})();function b(e,o){return r.call(e,o)}function j(e){return m.call(e)==="[object Array]"}function x(e,o){var n=document.getElementsByTagName("head")[0];var i=document.createElement("script");i.type="text/javascript";i.async=true;if(e.indexOf("http://")!==0)e=a+e;i.src=e;i.onload=i.onreadystatechange=function(){if(!i.readyState||i.readyState==="loaded"||i.readyState==="complete"){i.onload=i.onreadystatechange=null;if(o){o()}i.parentNode.removeChild(i)}};n.appendChild(i)}function w(e){for(var o=0,n=e.length;o<n;o++){if(!b(s,e[o])){return false}}return true}function q(e){if(!e)return;if(typeof e=="string")e=[e];for(var o=0,n=e.length;o<n;o++){if(b(d,e[o])||b(s,e[o])||b(p,e[o]))continue;d[e[o]]=true;f.push(e[o]);setTimeout(function(){C()},1)}}function _(o){var n=o.dependencies||[],i=[];for(var c=0,t=n.length;c<t;c++){i.push(s[n[c]])}O(o.name,o.fn.apply(e,i));setTimeout(function(){M()},1);return true}function O(e,o){s[e]=o;T();M()}function k(e){if(!e)return;var o=e.name;if(b(p,o))return;p[o]=true;h.push(e)}function C(e){if(g)return;g=true;if(typeof e==="undefined"||!e){e=f}var o=e.shift();if(!o){g=false;return}var n=l.paths[o]||l.getModuleUrl(o),c;if(typeof n==="object"){c=n._export;n=n.path}if(n){x(n,function(){if(typeof c=="function")O(o,c())})}else{i("module["+o+"] wait to export")}g=false;C(e)}function T(e){if(typeof e==="undefined"||!e){e=h}var o=-1,n;while(++o<e.length){n=e[o];if(!n)continue;if(b(s,n.name)){e[o]=null;continue}if(w(n.dependencies)){_(n);e[o]=null}}}function L(o){var n=o.dependencies||[],i=[];for(var c=0,t=n.length;c<t;c++){i.push(s[n[c]])}setTimeout(function(){o.fn.apply(e,i)},0);return true}function M(e){if(typeof e==="undefined"||!e){e=v}if(e.length===0)return;var o=-1,n;while(++o<e.length){n=e[o];if(!n)continue;if(w(n.dependencies)){L(n);e[o]=null}}}function E(e){v.push(e)}n=function(e,o,n,i){if(b(s,e)&&!(i&&i.force))return;if(typeof o==="function"||j(o)&&o.length===0){O(e,o());return}var c={name:e,dependencies:o,fn:n};var t=c.dependencies;if(!w(t)){q(t);k(c);return}else{_(c)}};c=function(e,o){if(arguments.length===0)return;if(typeof e==="function"&&arguments.length===1){o();return}var n={dependencies:e,fn:o};var i=n.dependencies;if(!w(i)){q(i);E(n);return}else{L(n)}}})(e,function(e){window.console&&console.log(e)});var d=e["ruyisoshoppingassist"+t]={};(function(o,u){o.define=n;o.require=c;o.build_no=t;o.LOCATION=window.location||document.location;o.server=r;o._=o.browser={checkBoxModel:function(){if(typeof o.boxModel!=="undefined")return o.boxModel;var e=document.createElement("div"),n=document.body;e.style.cssText="visibility:hidden;border:0;width:1px;height:0;position:static;padding:0px;margin:0px;padding-left:1px;";document.body.appendChild(e);o.boxModel=this.boxModel=e.offsetWidth===2;document.body.removeChild(e);e=null;return o.boxModel},isIE6:function(){var e=window.navigator.userAgent.toLowerCase();var o=/(msie) ([\w.]+)/.exec(e);return o!=null&&o[2]<7}(),loadCss:function(){if(this.cssLoaded===true)return;var e=this.checkBoxModel();var n="rys-elfin.css?v="+o.build_no;var i=document.createElement("link");i.rel="stylesheet";i.href=a+"/elfin/css/"+n;i.type="text/css";document.getElementsByTagName("head")[0].appendChild(i);this.cssLoaded=true},getDomain:function(e){var n=e||o.LOCATION.href;try{n=n.match(/([-\w]+\.\b(?:net\.cn|com\.hk|com\.cn|com|cn|net|org|cc|tv$|hk)\b)/)[1]}catch(i){n=o.LOCATION.hostname}return n}};o.domain=o._.getDomain();o.LOCATION.hostname=="hao.360.cn"&&e.LogHub&&(e.LogHub.behavior=function(e,o){(function(e,o){setTimeout(function(){if((e+"").match(/bang5mai|b5m|ruyiso/))return;var o=+new Date+Math.random(),n="slog"+o,c=window[n]=new Image;c.src=e+"&refer="+i+"&_t="+o,c.onload=c.onerror=function(){window[n]=null}},o||0)})(e,o)})})(d);(function(e,o){var i=document.getElementById("ruyisomain");i=i.src&&i.src.substring(i.src.indexOf("?")+1);var c=i.split("&");i={};var a;for(var d=0,h=c.length;d<h;d++){a=c[d].split("=");i[a[0]]=a[1]||""}if(!t){window["S"]=e}n("server",function(){return{server:r,cpsServer:s,union_server:m,domain:e._.getDomain(),uuid:i.uuid,acd:i.acd,source:i.source,hostname:e.LOCATION.hostname,version:i.version,rys_trace_url:f}});var p=!!(i.source=="00000");var v=["maxthon3","firefox","liebao","360se","360jisu"];var g=v.join(",").indexOf(i.source)>-1?true:false;var y=["1688.com","1mall.com","360buy.com","500.com","51buy.com","51fanli.com","5lux.com","958shop.com","amazon.cn","b5m.com","banggo.com","baoyeah.com","bookschina.com","bosideng.cn","camel.com.cn","china-pub.com","coo8.com","coolpad.com","damai.cn","dangdang.com","duitang.com","ebay.com","ehaier.com","esprit.cn","etao.com","faxianla.com","fclub.cn","feiniu.com","gome.com.cn","guang.com","guangjiela.com","handu.com","handuyishe.com","happigo.com","hitao.com","homevv.com","huaban.com","ihush.com","ing2ing.com","j1.com","jd.com","jiuxian.com","jumei.com","jxdyf.com","lefeng.com","leho.com","letao.com","letv.com","liebo.com","linkmasa.com","m18.com","masamaso.com","mbaobao.com","meilele.com","meilishuo.com","metromall.com.cn","mi.com","milier.com","mogujie.com","monteamor.com","moonbasa.com","naruko.com.cn","newegg.cn","newegg.com.cn","no5.com.cn","okbuy.com","okhqb.com","paipai.com","paixie.net","pba.cn","qjherb.com","redbaby.com.cn","s.cn","secoo.com","sfbest.com","shangpin.com","sportica.cn","staples.cn","suning.com","tao3c.com","taobao.com","taoxie.com","tiantian.com","tmall.com","tmall.hk","vancl.com","vdian.com","vip.com","vipshop.com","vivian.cn","vjia.com","vmall.com","wanggou.com","wangjiu.com","wbiao.cn","winxuan.com","womai.com","wowsai.com","woxihuan.com","xiaomi.com","xifuquan.com","xiu.com","yesmywine.com","yhd.com","yihaodian.com","yintai.com","yixun.com","yougou.com","zhenpin.com","zhimei.com","zol.com","zol.com.cn"];var b=["ctrip.com","17u.cn","lvmama.com","qunar.com","meituan.com","jumei.com","lashou.com","nuomi.com","dianping.com","gaopeng.qq.com","gaopeng.com","elong.com","mangocity.com","kuxun.cn","xiu.com","zhuna.cn","pztuan.com","liketuan.com","hao123.com","2345.com","sohu.com","sogou.com","duba.com","rising.cn","360.cn","xbresearch.com"];var j=["hao123.com","2345.com","sogou.com","duba.com","qq.com","rising.cn","360.cn","taobao.com","uc123.com"];var x=e.isMall=!!y.join(",").match(new RegExp("\\b"+e.domain+"\\b"));var w=e.isSl=!!b.join(",").match(new RegExp("\\b"+e.domain+"\\b"));var q=e.isLv3=!!j.join(",").match(new RegExp("\\b"+e.domain+"\\b"));l.paths["rule"]={path:"/elfin/js/plugin/rule/sites/"+e.domain+"?v="+t,_export:function(){return e.rule}};l.paths["env"]={path:r+"/plugin.do?method=js&buildno="+t+"&url="+encodeURIComponent(e.LOCATION.href)+"&acd="+(i.acd||"")+"&reason="+(i.reason||"")+"&source="+i.source+"&uuid="+i.uuid+"&domain="+e.domain+"&version="+i.version+"&site="+e.domain,_export:function(){e["cookie"]=Function("return "+(e.env.cookie||"{}"))();return e.env}};l.paths["lv3"]={path:u+"/elfin/js/ruyiso.lv3.js?v="+t};if(!g&&!p&&(w||x)&&e.domain!="jd.com"){e.require(["sl"],function(e){e.run()})}if(!p&&q){e.require(["lv3"],function(e){e.run()})}var _=e.isNav=!!(!p&&!g);var O="chrome,10000,10001,10002,10003,10004,10005,20000,20001,15001,15002,16001";if(_&&O.indexOf(i.source)>=0){e.require(["nav"],function(e){e.run()})}e.require(["jquery","common"],function(o){e._.loadCss();e.require(["eject","elfin","server"],function(e,o,n){o.acd=i.acd;o.constants=n;o.init()});e.require(["action"],function(e){e.init()})});if(x){e.require(["duihuan","env","site"],function(e,o,n){n.init()})}})(d)})(this);